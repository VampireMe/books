# 惊群效应 (thundering herd)
***

&emsp;&emsp;
如果服务端的模型是首先派生出很多线程或者是进程，然后每个线程或者是进程分别调用 accept 的话。
如果一个连接建立完成并且可用，操作系统通常会唤起所有线程或者是进程，但是最终结果只有一个 accept 成功。
这个代价是巨大的，因为会造成很多不必要的线程或者是进程切换。
解决这个问题可以从用户态进行加锁处理，这样可以在用户态规定处理顺序，同时避免了没有必要的系统调用以及带来的线程和进程切换。