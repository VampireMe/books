# 1.1.1 什么是管道？
***

&emsp;&emsp;管道英文为 pipe，它是一个在学习 Linux 命令行时就会引入的一个很重要的概念。
它的发明人是道格拉斯.麦克罗伊，这位也是 UNIX 上早期 shell 的发明人。
他在发明了 shell 之后，发现系统操作执行命令时，经常有需求要将一个程序的输出交给另一个程序进行处理，这种操作可以使用输入输出重定向加文件搞定，比如：

    [zorro@zorro-pc pipe]$ ls  -l /etc/ > etc.txt
    [zorro@zorro-pc pipe]$ wc -l etc.txt 
    183 etc.txt

&emsp;&emsp;但这样未免显得太麻烦了，所以管道的概念应运而生。
目前在任何一个 shell 中都可以使用 <code>|</code> 连接两个命令，shell 会将前后两个进程的输入输出用一个管道相连，以便达到进程间通信的目的：

    [zorro@zorro-pc pipe]$ ls -l /etc/ | wc -l
    183
    
&emsp;&emsp;对比以上两种方法可以理解为管道本质上就是一个文件，前面的进程以写方式打开文件，后面的进程以读方式打开。
这样前面写完后面读，于是就实现了通信。
实际上管道的设计也是遵循 UNIX “一切皆文件” 的设计原则，它本质上就是一个文件。
Linux 系统直接把管道实现成了一种文件系统，借助 VFS 给应用程序提供操作接口。

&emsp;&emsp;虽然实现形态上是文件，但管道本身并不占用磁盘或其他外部存储的空间。
在 Linux 的实现上，它占用的是内存空间，所以 Linux 上的管道就是一个操作方式为文件的内存缓冲区。