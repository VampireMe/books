# 选项
***

&emsp;&emsp;
选项主要包括下面三种：

+ 编译时选项 (头文件)
+ 不与文件或者是目录相关联的运行时选项 (sysconf).
+ 与文件或者是目录相关联的运行时选项 (pathconf/fpathconf)

&emsp;&emsp;
**(1) 编译时选项**

&emsp;&emsp;
包含 unistd.h 这个头文件然后使用宏来判断。
对于宏和参数对应关系是：X 那么宏是 _POSIX_<X>, 而参数是 _SC_<X>。
如果编译时选项没有指定的话，那么必须通过运行时选项来获取。

&emsp;&emsp;
**(2) sysconf 选项**

&emsp;&emsp;
关于每个可选接口组提供的接口，可以通过 posixoptions 获得。

|代码|符号|说明|
| --- | --- | --- |
|ADV|_POSIX_ADVISORY_INFO|建议性信息|
|AIO|_POSIX_ASYNCHRONOUS_IO|异步 IO|
|BAR|_POSIX_BARRIERRS|屏障|
|CPT|_POSIX_CPUTIME|CPU 时钟|
|CS|_POSIX_CLOCK_SELECTION|时钟选择|
|FSC|_POSIX_FSYNC|文件同步|
|IP6|_POSIX_IPV6|ipv6 接口|
|MF|_POSIX_MAPPED_FILES|存储映射文件|
|ML|_POSIX_MEMLOCK|进程存储区加锁|
|MLR|_POSIX_MEMLOCK_RANGE|存储区加锁|
|MON|_POSIX_MONOTONIC_CLOCCK|单调时钟|
|MPR|_POSIX_MEMORY_PROTECTION|存储保护|
|MSG|_POSIX_MESSAGE_PASSING|消息传送|
|PIO|_POSIX_PRIORITIZED_IO|优先 IO|
|PS|_POSIX_PRIORITIZED_SCHEDULING|优先进程调度|
|RS|_POSIX_RAW_SOCKET|原始套接字|
|RTS|_POSIX_REALTIME_SIGNALS|实时信号|
|SEM|_POSIX_SEMAPHORES|信号量|
|SHM|_POSIX_SHARED_MEMORY_OBJECTS|共享存对象|
|SIO|_POSIX_SYNCHRONIZED_IO|同步 IO|
|SPI|_POSIX_SPIN_LOCKS|自选锁|
|SPN|_POSIX_SPAWN|产生进程|
|SS|_POSIX_SPORADIC_SERVER|进程发散性服务器|
|TCT|_POSIX_THREAD_CPUTIME|线程 CPU 时钟|
|TEF|_POSIX_TRACE_EVENT_FILTER|跟踪事件过滤器|
|THR|_POSIX_THREADS|线程|
|TMO|_POSIX_TIMEOUTS|超时|
|TMR|_POSIX_TIMERS|计时器|
|TPI|_POSIX_THREAD_PRIO_INHERIT|线程优先级继承|
|TPP|_POSIX_THREAD_PRIO_PROTECT|线程优先级保护|
|TPS|_POSIX_THREAD_PRIORITY_SCHEDULING|线程执行调度|
|TRC|_POSIX_TRACE|跟踪|
|TRI|_POSIX_TRACE_INHERIT|跟踪继承|
|TRL|_POSIX_TRACE_LOG|跟踪日志|
|TSA|_POSIX_THREAD_ATTR_STACKADDR|线程栈地址|
|TSF|_POSIX_THREAD_SAFE_FUNCTIONS|线程安全函数|
|TSH|_POSIX_THREAD_PROCESS_SHARED|线程进程共享同步|
|TSP|_POSIX_THREAD_SPORADIC_SERVER|线程发散性服务器|
|TSS|_POSIX_THREAD_ATTR_STACKSZIE|线程栈大小|
|TYM|_POSIX_TYPED_MEMORY_OBJECTS|类型化存储对象|
|XSI|_XOPEN_UNIX|X/Open 扩展接口|
|XSR|_XOPEN_STREAMS|XSI STREAMS|
| |_POSIX_JOB_CONTROL|作业控制|
| |_POSIX_READER_WRITER_LOCKS|读写锁|
| |_POSIX_SAVED_IDS|支持 saved 的 uid 和 gid|
| |_POSIX_SHELL|POSIX shell|
| |_POSIX_VERSION|POSIX version|
| |_XOPEN_CRYPE|加密|
| |_XOPEN_REALTIME|实时|
| |_XOPEN_REALTIME_THREADS|实时线程|
| |_XOPEN_STREAMS|XSI STREAMS|
| |_XOPEN_LEGACY|遗留接口|
| |_XOPEN_VERSION|XSI 版本|

&emsp;&emsp;
**(3) pathconf/fpathconf 选项**

|符号|说明|
| --- | --- |
|_POSIX_CHOWN_RESTRICTED|chown 限制|
|_POSIX_NO_TRUNC|文件名称长于 NAME_MAX 处理|
|_POSIX_VDISABLE|禁用终端字符|
|_POSIX_ASYNC_IO|是否可以使用异步 IO|
|_POSIX_PRIO_IO|是否可以使用优先 IO|
|_POSIX_SYNC_IO|是否可以使用同步 IO|