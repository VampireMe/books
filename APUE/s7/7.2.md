# 进程终止
***

&emsp;&emsp;
有下面 8 种终止方式，其中 5 种为正常方式：

+ main 返回。好比调用 exit(main(argc, argv))
+ exit
+ \_exit/\_Exit
+ 最后一个线程从启动例程返回
+ 最后一个线程调用 pthread\_exit

&emsp;&emsp;
异常终止有下面三种：

+ abort
+ 接收到信号并且终止
+ 最后一个线程对取消请求作出响应

&emsp;&emsp;
exit 和 \_exit/\_Exit 的差别在于：exit 首先执行一段程序然后进入内核，而 \_exit/\_Exit 直接立刻进入内核。
exit 所作的事情包括执行 atexit 注册函数，冲刷标准 IO 流，关闭标准 IO 流等事情 (但是文件描述符关闭放在内核完成)。
参数是退出状态，进入内核之后退出状态结合进程自身结果，组合成为终止状态返回给外部。
关于退出状态和终止状态会在下一章说明。
\_exit/\_Exit 之间没有差别，只不过 \_exit 是 POSIX 定义的，而 \_Exit 是 ISO C 定义的。

&emsp;&emsp;
可以使用 atexit 来注册退出清理函数，个数是有上限的，而且允许重复设置。
退出时执行顺序和设置时顺序相反。